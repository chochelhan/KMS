"use strict";(self["webpackChunkkms"]=self["webpackChunkkms"]||[]).push([[5689],{15689:function(s,t,e){e.r(t),e.d(t,{default:function(){return $}});var i=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"login-container"},[e("p",{staticClass:"login-title"},[s._v("로그인")]),e("form",{staticClass:"w-full",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),s.validate.apply(null,arguments)}}},[e("div",{staticClass:"input-box"},[e("div",{staticClass:"label"},[s._v("아이디")]),e("v-text-field",{attrs:{"error-messages":s.uidErrors,outlined:"",placeholder:"아이디를 입력해주세요"},on:{input:function(t){return s.$v.uid.$touch()},blur:function(t){return s.$v.uid.$touch()}},model:{value:s.uid,callback:function(t){s.uid=t},expression:"uid"}}),e("div",{staticClass:"label"},[s._v("비밀번호")]),e("v-text-field",{attrs:{type:"password",outlined:"","error-messages":s.upassErrors,placeholder:"비밀번호를 입력해주세요"},on:{input:function(t){return s.$v.upass.$touch()},blur:function(t){return s.$v.upass.$touch()}},model:{value:s.upass,callback:function(t){s.upass=t},expression:"upass"}})],1),e("div",{staticClass:"button-row"},[e("v-btn",{staticClass:"blackButton",attrs:{type:"submit"}},[s._v(" 로그인 ")])],1),e("div",{staticClass:"find-box"},[e("div",{staticClass:"right",on:{click:function(t){return s.findPass()}}},[s._v(" 계정찾기 ")])])]),s.snsList.length>0?e("div",{staticClass:"divide-line"}):s._e(),s.snsList.length>0?e("div",{staticClass:"sns-box"},[e("ul",{staticClass:"sns-ul"},s._l(s.snsList,(function(t){return e("li",{key:t.code,staticClass:"sns-li",on:{click:function(e){return s.snsLogin(t.code)}}},[e("img",{attrs:{src:t.img}}),e("span",[s._v(s._s(t.title))])])})),0)]):s._e(),e("div",{staticClass:"button-row",staticStyle:{width:"100%",margin:"auto","text-align":"center"}},[e("span",{staticClass:"guide"},[s._v("아직 하모니카 회원이 아니신가요?")]),e("span",{staticClass:"join-btn",on:{click:function(t){return s.$router.push("/joinIntro")}}},[s._v("회원가입")])])])},n=[],a=e(4367),r=(e(38862),e(28620)),o=e(40379),u=e(89486),c=e(25494),l=e(3699),d=e(20629),h={mixins:[r.oE],validations:{uid:{required:o.C1},upass:{required:o.C1}},name:"Login",computed:(0,a.Z)((0,a.Z)({},(0,d.Se)("config",["getSns","getSettingActive"])),{},{uidErrors:function(){var s=[];return this.$v.uid.$dirty?(!this.$v.uid.required&&s.push("아이디를 입력하세요"),s):s},upassErrors:function(){var s=[];return this.$v.upass.$dirty?(!this.$v.upass.required&&s.push("비밀번호를 입력하세요"),s):s}}),watch:{getSettingActive:function(s){s&&this.settingSns()}},data:function(){return{uid:"",upass:"",insertFlag:!1,snsList:[],snsCode:""}},created:function(){var s=l.Z.getSession();s&&null!==s&&void 0!==s&&s.memberInfo?this.$router.push("/"):(this.$eventBus.$on("snsLoginResult",this.snsLoginResult),this.getSettingActive&&this.settingSns())},methods:{settingSns:function(){for(var s in this.snsList=[],this.getSns){var t="",i="";switch(s){case"gl":t=e(66645),i="구글로 로그인";break;case"fb":t=e(12013),i="페이스북으로 로그인";break;case"ka":t=e(19549),i="카카오톡으로 로그인";break;case"nv":t=e(41955),i="네이버로 로그인";break}if(this.getSns[s].key){var n={img:t,code:s,title:i};this.snsList.push(n)}}},snsLogin:function(s){this.snsCode=s;var t,e,i="";switch(s){case"ka":i=this.getSns[s].redirectUrl,t="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id="+this.getSns[s].key+"&redirect_uri="+i,e="width=450,height=600,left=100,top=100";break;case"nv":i=this.snsInfo[s].redirectUrl,t="https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id="+this.getSns[s].key+"&redirect_uri="+i,e="width=600,height=600,left=100,top=100";break;case"fb":i=this.snsInfo[s].redirectUrl,t="https://facebook.com/v2.11/dialog/oauth?client_id="+this.getSns[s].key+"&redirect_uri="+i,e="width=600,height=600,left=100,top=100";break}var n=window.open(t,"snsLoginWin",e);"localhost"==location.hostname&&setTimeout((function(){n.postMessage("check","http://shop.riverflow.co.kr")}),1e3)},validate:function(){var s=this;if(this.$v.$touch(),!this.$v.$anyError){var t={uid:this.uid,upass:this.upass};if(this.insertFlag)return;this.insertFlag=!0,this.$eventBus.$emit("overlay","open"),u.Z.post(c.AX,t,(function(t){s.$eventBus.$emit("overlay","hide");var e=t.status,i={};if("success"==e)l.Z.setSession(t),i={message:"로그인 되었습니다",doAction:function(){location.href="/"}};else{var n=t.code,a="";switch(n){case"notauth":a="미인증된 회원입니다";break;case"uout":a="탈퇴한 회원 입니다";break;default:a="잘못된 아이디 또는 비밀번호입니다";break}s.insertFlag=!1,i={message:a}}s.$eventBus.$emit("modalOpen",i)}))}},findPass:function(){this.$router.push("/memberFindPass")},snsLoginResult:function(s){if(s){var t={};switch(s.status){case"login":l.Z.setSession(s.data),t={message:"로그인 되었습니다",doAction:function(){location.href="/"}},this.$eventBus.$emit("modalOpen",t);break;case"message":t={message:"잘못된 접근입니다"},this.$eventBus.$emit("modalOpen",t);break;case"required":var e=s.data;e.joinType="sns",sessionStorage.setItem("nextMemberInfo",JSON.stringify(e)),this.$router.push("/memberJoin");break;case"agree":var i=s.data;i.joinType="sns",sessionStorage.setItem("tempMemberInfo",JSON.stringify(i)),this.$router.push("/joinAgree");break}}}},destroyed:function(){this.$eventBus.$off("snsLoginResult")}},v=h,p=e(1001),f=e(43453),g=e.n(f),m=e(63150),b=e(55978),k=(0,p.Z)(v,i,n,!1,null,"37a4759e",null),$=k.exports;g()(k,{VBtn:m.Z,VTextField:b.Z})},66645:function(s,t,e){s.exports=e.p+"img/ico_sns1.10090ec8.svg"},12013:function(s,t,e){s.exports=e.p+"img/ico_sns2.d717ac6b.svg"},41955:function(s,t,e){s.exports=e.p+"img/ico_sns3.a4c026dd.svg"},19549:function(s,t,e){s.exports=e.p+"img/ico_sns4.f148b31a.svg"}}]);
//# sourceMappingURL=5689-legacy.f29e999f.js.map